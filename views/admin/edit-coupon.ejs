<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coupon Form</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css"
    />
    <style>
      body {
        background-color: #f8f9fa;
      }
      .form-control:focus {
        border-color: #99c4e1;
        box-shadow: none;
      }
      .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
      }
      .btn-primary:hover {
        background-color: #0069d9;
        border-color: #0062cc;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-md-6">
          <div class="card">
            <div class="card-body">
              <h3 class="card-title mb-4">Coupon Form</h3>
              <form id="coupon-form" action="/admin/coupon" method="POST">
                <div class="form-group">
                  <label for="couponName">Coupon Name</label>
                  <input
                    type="text"
                    name="couponName"
                    class="form-control"
                    id="couponName"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="description">Description</label>
                  <textarea
                    class="form-control"
                    name="description"
                    id="description"
                    rows="3"
                    required
                  ></textarea>
                </div>
                <div class="form-group">
                  <label for="price">Discount Amount</label>
                  <input
                    type="number"
                    name="price"
                    class="form-control"
                    id="price"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="minimum">Minimum Amount</label>
                  <input
                    type="number"
                    name="minimum"
                    class="form-control"
                    id="minimum"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="maximum">Maximum Amount</label>
                  <input
                    type="number"
                    name="maximum"
                    class="form-control"
                    id="maximun"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="start">Start Date</label>
                  <input
                    type="date"
                    name="start"
                    class="form-control"
                    id="start"
                    required
                  />
                </div>
                <div class="form-group">
                  <label for="expiry">Expiry Date</label>
                  <input
                    type="date"
                    name="expiry"
                    class="form-control"
                    id="expiry"
                    required
                  />
                </div>

                <button type="submit" class="btn btn-primary mt-3">
                  Submit
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
      <script>
        const form = document.getElementById("coupon-form");
        const couponNameInput = document.getElementById("couponName");
        const descriptionInput = document.getElementById("description");
        const priceInput = document.getElementById("price");
        const minimumInput = document.getElementById("minimum");
        const maximumInput = document.getElementById("maximum");
        const startInput = document.getElementById("start");
        const expiryInput = document.getElementById("expiry");

        form.addEventListener("submit", (event) => {
          let isValid = true;
          const currentDate = new Date();
          const expiryDate = new Date(expiryInput.value);

          if (couponNameInput.value.trim() === "") {
            isValid = false;
            couponNameInput.classList.add("is-invalid");
          } else {
            couponNameInput.classList.remove("is-invalid");
          }

          if (priceInput.value.trim() === "") {
            isValid = false;
            priceInput.classList.add("is-invalid");
          } else {
            priceInput.classList.remove("is-invalid");
          }

          if (descriptionInput.value.trim() === "") {
            isValid = false;
            descriptionInput.classList.add("is-invalid");
          } else {
            descriptionInput.classList.remove("is-invalid");
          }

          if (expiryDate < currentDate) {
            isValid = false;
            expiryInput.classList.add("is-invalid");
          } else {
            expiryInput.classList.remove("is-invalid");
          }

          if (!isValid) {
            event.preventDefault();
          }
        });
      </script>
    </div>
  </body>
</html>
